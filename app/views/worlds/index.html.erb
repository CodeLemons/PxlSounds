<div class="main-container">
  <%= render "shared/navbar" %>
  <div class="wrapper" data-controller="index-play">
    <div class="card-container">
      <div class="mix-container">
          <h3>My Mixes</h3>
        <div class="cards-border"></div>
        <div class="mix-cards" style="overflow-y: scroll; height: 260px;">
          <% @mixes.each do |mix| %>
            <div class="mix-card" data-index-play-target="mix" data-sound-value="<%= mix.get_mix_sounds.to_json %>">
              <div class="mix-name">
                <%= link_to mix.name, edit_world_mix_path(mix.world, mix) %>
              </div>
              <div class="world-name">
                <p><%= mix.world.name %></p>
              </div>
              <div class="play-button" data-controller="render-icon" data-index-play-target="button" data-render-icon-image-value="<%= cl_image_path(mix.world.image.key, class: "cloudinary-video") %>" data-render-icon-name-value="<%= mix.name %>" data-action="click->index-play#chooseMix index-play:showMix->render-icon#renderOnClick">
                <i class="fa-solid fa-circle-play" data-render-icon-target="button"></i>
              </div>
            </div>
          <% end %>
        </div>
        <div class="cards-border"></div>
      </div>
      <div class="worlds-container">
        <% @worlds.each do |world| %>
          <%= link_to world_path(world) do %>
            <div class="world-card" style="background-image: url('<%= cl_image_path( world.image.key ) %>');">
              <h1><%= world.name %></h1>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="image-container" style="background-image: url('<%= cl_image_path @worlds.sample.image.key %>')">
      <div class="hidden">
        <div class="mix-play">
          <i class="fa-solid fa-circle-play" data-action="click->index-play#playMix"></i>
        </div>
        <div class="mix-content">
          <h3 class="mix-name-display"></h3>
          <input type="range" id="volume" name="volume" min="0" step="0.01" max="1" data-index-play-target="volume" data-action="change->index-play#change">
        </div>
      </div>
    </div>
  </div>
</div>
